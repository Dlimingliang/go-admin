## go admin

## 技术选型

#### go相关

1. web框架 gin
2. 数据库orm gorm
3. 日志记录 zap
4. 配置文件读取 viper
5. API文档 swagger

#### 其他技术栈

1. 数据库 mysql
2. 缓存 redis

#### 接口返回

API接口的响应为JSON格式，并且会响应不同的HTTP状态码

1. HTTP状态码

- 200 成功
- 400 客户端参数错误 比如json格式错误
- 401 未认证 未提供认证数据或认证数据无效
- 403 未授权 无权限
- 409 冲突、业务异常
- 500 系统未知异常

2. API返回结果

```
{
    "code": 300,
    "msg": "message",
    "validationMsg : {"参数校验错误信息"}
    "data": {"数据"}
}
```

#### 总计划待做

1. 优雅地终止
2. 分布式id
3. 统一返回结果是否合理，没有进行将实体转换, json统一处理(时间、类型)
4. 各种service的集中封装还是如何封装，一个业务调用多个service，还是怎么弄


## 2022-06-02 一期规划

- 检查之前的代码,完成一个阶段

- 实现用户的登录、登录
- 字典管理
- 操作历史
- casbin
- api管理

问题:

1. gin 全局异常处理
2. 执行俩个操作，事务是分开的？ 测试点 1.删除菜单，关联的角色菜单删除情况 确实是分开的，那么怎么办，事务写法被
3. 关联更新并不需要reload，那么reload数据的作用是什么呢
4. 查询是否存在会进行俩次的判断,这个不是很好
5. 用户信息和角色在修改的时候，不是一起修改的,会出现一个改成功，一个失败的情况
6. 查询的报错进行尝试,如果报错了，res影响行数是多少,为了验证自己的逻辑是否正确



